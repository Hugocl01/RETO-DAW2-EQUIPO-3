import{r as i,j as e,u as v}from"./index-_2EO4M7r.js";function g({id:c,items:h,intervalo:j}){const[a,p]=i.useState(null),[x,d]=i.useState(3);i.useEffect(()=>{const t=()=>{window.innerWidth<768?d(1):window.innerWidth<992?d(2):d(3)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const m=[];for(let t=0;t<h.length;t+=x)m.push(h.slice(t,t+x));return e.jsxs("div",{className:"contenido-carousel",children:[e.jsxs("div",{id:c,className:"carousel carousel-dark slide","data-bs-ride":"carousel","data-bs-interval":j,children:[e.jsx("div",{className:"carousel-indicators",children:m.map((t,o)=>e.jsx("button",{type:"button","data-bs-target":`#${c}`,"data-bs-slide-to":o,className:o===0?"active":"","aria-current":o===0?"true":"false","aria-label":`Slide ${o+1}`},o))}),e.jsx("div",{className:"carousel-inner p-5",children:m.map((t,o)=>e.jsx("div",{className:`carousel-item ${o===0?"active":""}`,children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:t.map((s,b)=>s?e.jsx("div",{className:`col-md-${12/x} d-flex justify-content-center`,children:e.jsxs("div",{className:"card shadow-lg custom-card",children:[e.jsx("img",{src:(s==null?void 0:s.imagen)||"../src/assets/imagenes/img2.png",className:"card-img-top",alt:(s==null?void 0:s.titulo)||"Sin título"}),e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[e.jsx("h4",{className:"card-title",children:(s==null?void 0:s.titulo)||"Sin título"}),e.jsx("p",{className:"card-text",children:s!=null&&s.texto?s.texto.length>160?`${s.texto.substring(0,150)}...`:s.texto:s!=null&&s.contenido?s.contenido.length>160?`${s.contenido.substring(0,150)}...`:s.contenido:"No hay contenido disponible"}),e.jsx("button",{className:"btn btn-success",onClick:()=>p(s),"data-bs-toggle":"modal","data-bs-target":`#leerMasModal_${c}`,children:"LEER MÁS"})]})]})},b):null)})})},o))}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#${c}`,"data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":`#${c}`,"data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]}),e.jsx("div",{className:"modal fade",id:`leerMasModal_${c}`,tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:a?a.titulo:"Título"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:a?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:(a==null?void 0:a.imagen)||"../src/assets/imagenes/img2.png",className:"img-fluid mb-3",alt:a.titulo}),e.jsx("h4",{className:"card-title mb-4",children:(a==null?void 0:a.titulo)||"Sin título"}),e.jsx("p",{children:a.texto||a.contenido})]}):e.jsx("p",{children:"Cargando..."})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]})}const y="/assets/cruz-roja-CIWVl830.png",w="/assets/torneo-XSvOHKaR.jpeg",S="/assets/cesta-a3hBFm02.png",E="/assets/donate-hXzejufu.png";function R(){const[c,h]=i.useState([]),[j,a]=i.useState([]),[p,x]=i.useState([]),[d,m]=i.useState([]),[t]=v(),o=t.get("inscripcion-status"),s="http://23.23.87.65/api/";i.useEffect(()=>{(async()=>{try{const r=await(await fetch("/api/donaciones")).json();r.status==="success"&&h(r.donaciones)}catch(n){console.error("Error al obtener las donaciones:",n)}})(),(async()=>{try{const r=await(await fetch("/api/publicaciones")).json();if(r.status==="success"){const N=r.publicaciones.filter(u=>u&&u.titulo&&u.portada==="Si");x(N)}}catch(n){console.error("Error al obtener las publicaciones:",n)}})(),(async()=>{try{const r=await(await fetch("/api/retos")).json();if(r.status==="success"){const N=r.retos.filter(u=>u&&u.texto);a(N)}}catch(n){console.error("Error al obtener los retos:",n)}})(),(async()=>{try{const r=await(await fetch("/api/patrocinadores")).json();r.status==="success"&&m(r.patrocinadores)}catch(n){console.error("Error al obtener los patrocinadores:",n)}})()},[]);function b(){if(!c||c.length===0)return"0.00";let l=0;return c.forEach(f=>{l+=parseFloat(f.importe)}),l.toFixed(2)}return e.jsxs("div",{className:"inicio-container",children:[e.jsxs("div",{className:"imagenInicio d-flex flex-column justify-content-center align-items-center p-4",children:[e.jsxs("h2",{className:"text-white text-center mb-4",children:["TORNEO DE FÚTBOL",e.jsx("br",{}),"SOLIDARIO"]}),e.jsx("div",{className:"py-2 d-flex justify-content-center align-items-center",children:e.jsx("a",{target:"_blank",className:"d-flex justify-content-center align-items-center",href:"https://cercadeti.cruzroja.es/ligasolidariadeformacionprofesional",children:e.jsx("img",{src:y,alt:"Cruz Roja"})})})]}),e.jsx("div",{children:o==="success"&&e.jsx("h1",{children:"¡Inscripción confirmada!"})}),e.jsxs("section",{className:"introduccion section-container w-100",children:[e.jsxs("div",{className:"seccion1",children:[e.jsx("div",{className:"titulo p-5 text-center w-100",children:e.jsx("h2",{className:"w-100",children:"PARTICIPA POR UNA CAUSA SOLIDARIA"})}),e.jsx("div",{className:"texto mx-5 mt-4 my-2",children:e.jsxs("p",{children:["Torrelavega se une por una gran causa en un torneo deportivo con un propósito solidario: recaudar fondos para Cruz Roja. En este evento, la pasión por el deporte y la solidaridad van de la mano para ayudar a quienes más lo necesitan.",e.jsx("br",{}),e.jsx("br",{}),"Este torneo es el resultado del esfuerzo y la colaboración de muchas personas, incluyendo la participación activa de nuestros alumnos de los institutos de Torrelavega.",e.jsx("br",{}),e.jsx("br",{})]})}),e.jsx("div",{className:"mx-5 mt-2",children:e.jsx("button",{type:"button",className:"btn btn-primary fs-6 btn-lg px-5",children:"INSCRÍBETE"})}),e.jsxs("div",{className:"infoIntroduccion border border-secondary rounded p-3 mx-5 mt-5",children:[e.jsx("h4",{className:"text-center mb-4",children:"Informacion del Torneo"}),e.jsxs("h5",{children:[e.jsx("i",{className:"bi bi-calendar me-2"}),"13 y 14 de Marzo de 2025"]}),e.jsx("a",{target:"_blank",href:"https://maps.app.goo.gl/rtgeS49dz9yWYWo99",children:e.jsxs("h5",{children:[e.jsx("i",{className:"bi bi-geo-alt me-2"}),"Pabellón la Habana Vieja - Torrelavega (Cantabria)"]})})]})]}),e.jsx("div",{className:"seccion2",children:e.jsx("img",{src:w,alt:"Torneo"})})]}),e.jsxs("section",{className:"carruseles section-container d-flex flex-column justify-content-center align-items-center",children:[e.jsx("h1",{className:"text-center",children:"Noticias"}),p.length>0?e.jsx(g,{id:"carouselNoticias",items:p,intervalo:3e3}):e.jsx("p",{className:"text-center",children:"No hay noticias disponibles"}),e.jsx("h1",{className:"text-center",children:"Retos"}),j.length>0?e.jsx(g,{id:"carouselRetos",items:j,intervalo:3e3}):e.jsx("p",{className:"text-center",children:"No hay retos disponibles"})]}),e.jsxs("section",{className:"donaciones container d-flex flex-column align-items-center py-5",children:[e.jsx("h1",{className:"text-center text-primary fw-bold mb-4",children:"Donaciones"}),e.jsxs("div",{className:"row row-cols-1 row-cols-md-2 g-4 justify-content-center",children:[e.jsx("div",{className:"col",children:e.jsx("div",{className:"card shadow-lg border-0 rounded-4 h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-center align-items-center p-4",children:[e.jsx("img",{src:S,className:"mb-3 w-25",alt:"Cesta"}),e.jsx("h2",{className:"text-dark fw-bold",children:"Total Recaudado"}),e.jsxs("h3",{className:"text-success fw-bold display-5",children:[b(),"€"]})]})})}),e.jsx("div",{className:"col",children:e.jsx("div",{className:"card shadow-lg border-0 rounded-4 h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-center align-items-center p-4 text-center",children:[e.jsx("img",{src:E,className:"mb-3 w-25",alt:"Donar"}),e.jsx("h2",{className:"text-dark fw-bold",children:"Hacer una Donación"}),e.jsx("p",{className:"text-muted lead",children:"Tu ayuda importa. Cada aporte marca la diferencia."}),e.jsx("a",{target:"_blank",href:"https://cercadeti.cruzroja.es/ligasolidariadeformacionprofesional",className:"btn btn-primary btn-lg mt-3 px-4",children:"Donar"})]})})})]})]}),e.jsx("section",{className:"contenedorPatros py-5 bg-secondary",children:e.jsxs("div",{className:"patrocinadores container text-center",children:[e.jsx("h1",{className:"mb-4 text-primary fw-bold",children:"Patrocinadores"}),e.jsx("div",{className:"d-flex flex-wrap justify-content-center gap-3",children:d.length>0?d.map(l=>e.jsx("div",{className:"p-2 bg-white shadow-sm rounded",children:e.jsx("a",{href:l.landing_page,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:`${s+l.ruta}`,className:"img-fluid",alt:l.nombre,style:{maxHeight:"100px",objectFit:"contain",padding:"10px"}})})},l.nombre)):e.jsx("p",{className:"text-muted",children:"No hay patrocinadores disponibles"})})]})})]})}function z(){return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"Inicio"}),e.jsx(R,{})]})}export{z as default};
